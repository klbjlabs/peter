
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="main.css">
  <title>摩登前端开发者</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
<header>
  <div class="post-nav clearfix">
    <ul class="container clearfix">
      <li><a href="/" class="nav">网站首页</a></li>
      <li><a href="/p/index" class="nav">课程首页</a></li>
      <li><a href="/p/stage1" class="nav">S1</a></li>
    </ul>
  </div>
</header>


<div class="container">

<video id="peter-talk"  controls preload="auto">
 <source src="http://7xn2cy.com1.z0.glb.clouddn.com/install-node.mp4" type='video/mp4' />
</video>

</div>

<div class="container">
    <h1 id="-nodejs">安装 nodejs</h1>
<p>安装 node 有多种方式的，但是都用了一下，发现还是用 nvm 来装效果最好，后续可以避免很多麻烦。</p>
<h3 id="-">安装</h3>
<p>参考 <a href="https://github.com/creationix/nvm">nvm 的 README</a> ，执行下面的命令，我用的是 Mac 但是 ubuntu 系统上应该也是一样的操作：</p>
<pre><code>curl -o- https://raw.githubusercontent.com/creationix/nvm/v0.29.0/install.sh | bash
</code></pre><p>这样 nvm 就安装好了，可能要重启一下 shell 才有 nvm 这个命令。</p>
<p>查看都有哪些版本可以安装：</p>
<pre><code>nvm ls-remote
</code></pre><p>可以看到当前最新版本是 v5.1.1 ，运行下面的命令来安装：</p>
<pre><code>nvm install v5.1.1
</code></pre><p>现在再来安装一个包，看看会被安装到什么位置：</p>
<pre><code>$ npm i -g gulp
/Users/peter/.nvm/versions/node/v5.1.1/bin/gulp
</code></pre><p>可以看到 gulp 这个包安装到了 <code>/Users/peter</code> 之下。并且可执行文件也自动导出为系统命令了，可以通过运行下面的命令来确认：</p>
<pre><code>$ which gulp
/Users/peter/.nvm/versions/node/v5.1.1/bin/gulp
</code></pre><h3 id="-">设置默认版本</h3>
<p>一个小问题，每次启动新 shell ，Node 还是老版本。如何写死成最新安装的 NVM 版本：</p>
<pre><code>$ nvm alias default 5.1.1
default -&gt; 5.1.1 (-&gt; v5.1.1)
</code></pre><h3 id="-npm-">让 npm 使用淘宝镜像</h3>
<p>nodejs 安装好之后，npm 这个装包命令也就装好了。npm 命令因为要从国外的服务器下载包，有时候速度不给力，所以这里给一个备选方案：自制一个 cnpm 命令，其实就是一个连接国内淘宝镜像的 npm 命令啦。</p>
<p>到 <a href="http://npm.taobao.org/">taobao 相关页面</a>，找到下面的命令：</p>
<pre><code>$ echo &#39;alias cnpm=&quot;npm --registry=https://registry.npm.taobao.org \
  --cache=$HOME/.npm/.cache/cnpm \
  --disturl=https://npm.taobao.org/dist \
  --userconfig=$HOME/.cnpmrc&quot;&#39; &gt;&gt; ~/.zshrc &amp;&amp; source ~/.zshrc
</code></pre><p>打开自己的命令行，来执行一下。注意：如果您使用的是 bash （ Mac 和 ubuntu 系统的默认 shell ）请把上面的 .zshrc 替换为 .bashrc 。</p>
<p>cnpm 跟 npm 用起来没有任何区别，可以放心使用。</p>

</div>


<footer></footer>
</body>
</html>
